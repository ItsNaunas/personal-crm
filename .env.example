# Application
NODE_ENV=development
PORT=3000

# ── Security ────────────────────────────────────────────────────────────────────
# Generate with: openssl rand -hex 32
# Every request to the API must include:  x-api-key: <this value>
API_SECRET_KEY=

# Comma-separated list of allowed origins for CORS (browser-based access).
# Leave empty to block all browser origins (API-only via n8n/server-to-server).
# Example: https://your-crm-ui.vercel.app
ALLOWED_ORIGINS=

# ── Organisation ────────────────────────────────────────────────────────────────
# Generate a stable UUID per deployment (used as the default org ID)
DEFAULT_ORG_ID=00000000-0000-0000-0000-000000000001

# ── Database ────────────────────────────────────────────────────────────────────
# Railway provides this automatically when you add a PostgreSQL service
DATABASE_URL="postgresql://crm_user:crm_password@localhost:5432/crm_db"

# ── AI ──────────────────────────────────────────────────────────────────────────
AI_PROVIDER=openai
OPENAI_API_KEY=sk-...
AI_MODEL=gpt-4o

# ── Worker ──────────────────────────────────────────────────────────────────────
WORKER_ENABLED=true
WORKER_CONCURRENCY=2
WORKER_POLL_INTERVAL_MS=1000
WORKER_LOCK_TIMEOUT_MINUTES=10
JOB_BASE_DELAY_MS=5000
JOB_MAX_ATTEMPTS=3

# ── Scheduler ───────────────────────────────────────────────────────────────────
SCHEDULER_ENABLED=true
SCHEDULER_POLL_INTERVAL_MS=60000

# ── Enrichment ──────────────────────────────────────────────────────────────────
ENRICHMENT_API_URL=
ENRICHMENT_API_KEY=

# ── Intelligence Thresholds ─────────────────────────────────────────────────────
BUYING_SIGNAL_THRESHOLD=75
GHOST_RISK_SILENCE_DAYS=7
DEAL_DECAY_THRESHOLD_DAYS=14

# ── n8n Webhooks ────────────────────────────────────────────────────────────────
# Copy these from your n8n workflow webhook trigger nodes after deploying n8n
N8N_WEBHOOK_OUTREACH_DIRECT=
N8N_WEBHOOK_OUTREACH_COLD=
N8N_WEBHOOK_NURTURE=
N8N_WEBHOOK_ONBOARDING=
N8N_WEBHOOK_RENEWAL_REMINDER=
N8N_WEBHOOK_PROPOSAL_BLUEPRINT=
N8N_WEBHOOK_TESTIMONIAL=
N8N_WEBHOOK_REFERRAL=
N8N_WEBHOOK_UPSELL=
N8N_WEBHOOK_LEADS=
N8N_WEBHOOK_DEALS=
